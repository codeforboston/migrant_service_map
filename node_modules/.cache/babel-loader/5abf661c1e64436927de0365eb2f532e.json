{"ast":null,"code":"import mapboxgl from 'mapbox-gl';\nexport var getResourceObject = function getResourceObject(sources) {\n  var resourceObject = sources.map(function (i) {\n    var resource = i.properties;\n    resource.coordinates = i.geometry.coordinates;\n    resource.lngLat = i.lngLat;\n    return resource;\n  });\n  return resourceObject;\n}; // get the types from mapbox data\n\nexport var getCategories = function getCategories(sources) {\n  return sources.map(function (source) {\n    return source.properties.type;\n  }).filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n};\nexport var makeResourceEntry = function makeResourceEntry(resourceObject) {\n  var liLink = document.createElement('a');\n  var liList = document.createElement('li');\n  var liContainer = document.createElement('div');\n  liLink.id = resourceObject.name.toLowerCase().split(\" \").join('-');\n  var name = resourceObject.name;\n  var website = resourceObject.website;\n  var bio = resourceObject.bio;\n  var telephone = resourceObject.telephone;\n  var coordinates = resourceObject.coordinates;\n\n  liLink.onclick = function (e) {\n    return new mapboxgl.Popup().setLngLat(coordinates).setHTML('<h4>' + name + '</h4><a href=' + website + '>' + website + '</a><br><br><i>' + bio + '</i><br><br><b>Telephone: </b>' + telephone).addTo(map);\n  };\n\n  liContainer.id = resourceObject.name;\n  liLink.innerHTML = resourceObject.name;\n  liLink.className = 'resource-entry';\n  liList.className = 'collapsed ' + liLink.id;\n  liContainer.className = 'resource-entry-box';\n  liContainer.appendChild(liLink);\n  liList.appendChild(liContainer);\n  return liList;\n};","map":{"version":3,"sources":["/Users/sashamaryl/Documents/codeForBoston/migrant_service_map/src/map-services.js"],"names":["mapboxgl","getResourceObject","sources","resourceObject","map","i","resource","properties","coordinates","geometry","lngLat","getCategories","source","type","filter","value","index","self","indexOf","makeResourceEntry","liLink","document","createElement","liList","liContainer","id","name","toLowerCase","split","join","website","bio","telephone","onclick","e","Popup","setLngLat","setHTML","addTo","innerHTML","className","appendChild"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,WAArB;AAGA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD,EAAa;AAC5C,MAAMC,cAAc,GAAGD,OAAO,CAACE,GAAR,CAAa,UAAAC,CAAC,EAAI;AACrC,QAAMC,QAAQ,GAAGD,CAAC,CAACE,UAAnB;AACAD,IAAAA,QAAQ,CAACE,WAAT,GAAuBH,CAAC,CAACI,QAAF,CAAWD,WAAlC;AACAF,IAAAA,QAAQ,CAACI,MAAT,GAAkBL,CAAC,CAACK,MAApB;AACA,WAAOJ,QAAP;AACD,GALoB,CAAvB;AAMA,SAAOH,cAAP;AACD,CARM,C,CAUP;;AACA,OAAO,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACT,OAAD;AAAA,SAAaA,OAAO,CAACE,GAAR,CAAY,UAAAQ,MAAM;AAAA,WAAIA,MAAM,CAACL,UAAP,CAAkBM,IAAtB;AAAA,GAAlB,EACrCC,MADqC,CAC9B,UAACC,KAAD,EAAQC,KAAR,EAAeC,IAAf;AAAA,WAAwBA,IAAI,CAACC,OAAL,CAAaH,KAAb,MAAwBC,KAAhD;AAAA,GAD8B,CAAb;AAAA,CAAtB;AAGP,OAAO,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAAChB,cAAD,EAAmB;AAClD,MAAMiB,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAf;AACA,MAAME,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACAF,EAAAA,MAAM,CAACK,EAAP,GAAYtB,cAAc,CAACuB,IAAf,CAAoBC,WAApB,GAAkCC,KAAlC,CAAwC,GAAxC,EAA6CC,IAA7C,CAAkD,GAAlD,CAAZ;AACA,MAAMH,IAAI,GAAGvB,cAAc,CAACuB,IAA5B;AACA,MAAMI,OAAO,GAAG3B,cAAc,CAAC2B,OAA/B;AACA,MAAMC,GAAG,GAAG5B,cAAc,CAAC4B,GAA3B;AACA,MAAMC,SAAS,GAAG7B,cAAc,CAAC6B,SAAjC;AACA,MAAMxB,WAAW,GAAGL,cAAc,CAACK,WAAnC;;AAEAY,EAAAA,MAAM,CAACa,OAAP,GAAiB,UAACC,CAAD;AAAA,WAAO,IAAIlC,QAAQ,CAACmC,KAAb,GACnBC,SADmB,CACT5B,WADS,EAEnB6B,OAFmB,CAEX,SAASX,IAAT,GAAgB,eAAhB,GAAkCI,OAAlC,GAA4C,GAA5C,GAAkDA,OAAlD,GAA4D,iBAA5D,GAAgFC,GAAhF,GAAsF,gCAAtF,GAAyHC,SAF9G,EAGnBM,KAHmB,CAGblC,GAHa,CAAP;AAAA,GAAjB;;AAKAoB,EAAAA,WAAW,CAACC,EAAZ,GAAiBtB,cAAc,CAACuB,IAAhC;AACAN,EAAAA,MAAM,CAACmB,SAAP,GAAmBpC,cAAc,CAACuB,IAAlC;AACAN,EAAAA,MAAM,CAACoB,SAAP,GAAmB,gBAAnB;AACAjB,EAAAA,MAAM,CAACiB,SAAP,GAAmB,eAAcpB,MAAM,CAACK,EAAxC;AACAD,EAAAA,WAAW,CAACgB,SAAZ,GAAwB,oBAAxB;AAEAhB,EAAAA,WAAW,CAACiB,WAAZ,CAAwBrB,MAAxB;AACAG,EAAAA,MAAM,CAACkB,WAAP,CAAmBjB,WAAnB;AAEA,SAAOD,MAAP;AACD,CA1BM","sourcesContent":["import mapboxgl from 'mapbox-gl';\n\n\nexport const getResourceObject = (sources) => {\n  const resourceObject = sources.map( i => {\n      const resource = i.properties; \n      resource.coordinates = i.geometry.coordinates; \n      resource.lngLat = i.lngLat; \n      return resource; \n    }); \n  return resourceObject; \n}\n\n// get the types from mapbox data\nexport const getCategories = (sources) => sources.map(source => source.properties.type)\n    .filter((value, index, self) => self.indexOf(value) === index ) ;\n\nexport const makeResourceEntry = (resourceObject) =>{\n  const liLink = document.createElement('a');\n  const liList = document.createElement('li'); \n  const liContainer = document.createElement('div'); \n  liLink.id = resourceObject.name.toLowerCase().split(\" \").join('-'); \n  const name = resourceObject.name; \n  const website = resourceObject.website;\n  const bio = resourceObject.bio;\n  const telephone = resourceObject.telephone;\n  const coordinates = resourceObject.coordinates; \n \n  liLink.onclick = (e) => new mapboxgl.Popup()\n      .setLngLat(coordinates)\n      .setHTML('<h4>' + name + '</h4><a href=' + website + '>' + website + '</a><br><br><i>' + bio + '</i><br><br><b>Telephone: </b>' + telephone)\n      .addTo(map);\n\n  liContainer.id = resourceObject.name; \n  liLink.innerHTML = resourceObject.name;\n  liLink.className = 'resource-entry';\n  liList.className = 'collapsed '+ liLink.id;\n  liContainer.className = 'resource-entry-box';\n  \n  liContainer.appendChild(liLink); \n  liList.appendChild(liContainer); \n\n  return liList; \n}\n\n\n"]},"metadata":{},"sourceType":"module"}