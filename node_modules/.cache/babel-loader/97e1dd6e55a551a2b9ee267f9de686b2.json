{"ast":null,"code":"import mapboxgl from 'mapbox-gl';\nexport var getResourceObject = function getResourceObject(sources) {\n  var resourceObject = sources.map(function (i) {\n    var resource = i.properties;\n    resource.coordinates = i.geometry.coordinates;\n    resource.lngLat = i.lngLat;\n    return resource;\n  });\n  return resourceObject;\n}; // get the types from mapbox data\n\nexport var getCategories = function getCategories(sources) {\n  return sources.map(function (source) {\n    return source.properties.type;\n  }).filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n};\nexport function makeResourceEntry(resourceObject) {\n  var liLink = document.createElement('a');\n  var liList = document.createElement('li');\n  var liContainer = document.createElement('div');\n  liLink.id = resourceObject.name.toLowerCase().split(\" \").join('-');\n  var name = resourceObject.name;\n  var website = resourceObject.website;\n  var bio = resourceObject.bio;\n  var telephone = resourceObject.telephone;\n  var coordinates = resourceObject.coordinates;\n\n  liLink.onclick = function (e) {\n    new mapboxgl.Popup().setLngLat(coordinates).setHTML('<h4>' + name + '</h4><a href=' + website + '>' + website + '</a><br><br><i>' + bio + '</i><br><br><b>Telephone: </b>' + telephone); // .addTo(map);\n  };\n\n  liContainer.id = resourceObject.name;\n  liLink.innerHTML = resourceObject.name;\n  liLink.className = 'resource-entry';\n  liList.className = 'collapsed ' + liLink.id;\n  liContainer.className = 'resource-entry-box';\n  liContainer.appendChild(liLink);\n  liList.appendChild(liContainer);\n  return liList;\n}","map":{"version":3,"sources":["/Users/sashamaryl/Documents/codeForBoston/migrant_service_map/src/map-services.js"],"names":["mapboxgl","getResourceObject","sources","resourceObject","map","i","resource","properties","coordinates","geometry","lngLat","getCategories","source","type","filter","value","index","self","indexOf","makeResourceEntry","liLink","document","createElement","liList","liContainer","id","name","toLowerCase","split","join","website","bio","telephone","onclick","e","Popup","setLngLat","setHTML","innerHTML","className","appendChild"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,WAArB;AAGA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD,EAAa;AAC5C,MAAMC,cAAc,GAAGD,OAAO,CAACE,GAAR,CAAa,UAAAC,CAAC,EAAI;AACrC,QAAMC,QAAQ,GAAGD,CAAC,CAACE,UAAnB;AACAD,IAAAA,QAAQ,CAACE,WAAT,GAAuBH,CAAC,CAACI,QAAF,CAAWD,WAAlC;AACAF,IAAAA,QAAQ,CAACI,MAAT,GAAkBL,CAAC,CAACK,MAApB;AACA,WAAOJ,QAAP;AACD,GALoB,CAAvB;AAMA,SAAOH,cAAP;AACD,CARM,C,CAUP;;AACA,OAAO,IAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACT,OAAD,EAAa;AACxC,SAAOA,OAAO,CAACE,GAAR,CAAY,UAAAQ,MAAM;AAAA,WAAIA,MAAM,CAACL,UAAP,CAAkBM,IAAtB;AAAA,GAAlB,EACJC,MADI,CACG,UAACC,KAAD,EAAQC,KAAR,EAAeC,IAAf;AAAA,WAAwBA,IAAI,CAACC,OAAL,CAAaH,KAAb,MAAwBC,KAAhD;AAAA,GADH,CAAP;AAED,CAHM;AAKP,OAAO,SAASG,iBAAT,CAA2BhB,cAA3B,EAA2C;AAChD,MAAIiB,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACA,MAAIC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAb;AACA,MAAIE,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AACAF,EAAAA,MAAM,CAACK,EAAP,GAAYtB,cAAc,CAACuB,IAAf,CAAoBC,WAApB,GAAkCC,KAAlC,CAAwC,GAAxC,EAA6CC,IAA7C,CAAkD,GAAlD,CAAZ;AACA,MAAIH,IAAI,GAAGvB,cAAc,CAACuB,IAA1B;AACA,MAAII,OAAO,GAAG3B,cAAc,CAAC2B,OAA7B;AACA,MAAIC,GAAG,GAAG5B,cAAc,CAAC4B,GAAzB;AACA,MAAIC,SAAS,GAAG7B,cAAc,CAAC6B,SAA/B;AACA,MAAIxB,WAAW,GAAGL,cAAc,CAACK,WAAjC;;AAEAY,EAAAA,MAAM,CAACa,OAAP,GAAiB,UAASC,CAAT,EAAY;AAC3B,QAAIlC,QAAQ,CAACmC,KAAb,GACGC,SADH,CACa5B,WADb,EAEG6B,OAFH,CAEW,SAASX,IAAT,GAAgB,eAAhB,GAAkCI,OAAlC,GAA4C,GAA5C,GAAkDA,OAAlD,GAA4D,iBAA5D,GAAgFC,GAAhF,GAAsF,gCAAtF,GAAyHC,SAFpI,EAD2B,CAIzB;AACH,GALD;;AAOAR,EAAAA,WAAW,CAACC,EAAZ,GAAiBtB,cAAc,CAACuB,IAAhC;AACAN,EAAAA,MAAM,CAACkB,SAAP,GAAmBnC,cAAc,CAACuB,IAAlC;AACAN,EAAAA,MAAM,CAACmB,SAAP,GAAmB,gBAAnB;AACAhB,EAAAA,MAAM,CAACgB,SAAP,GAAmB,eAAcnB,MAAM,CAACK,EAAxC;AACAD,EAAAA,WAAW,CAACe,SAAZ,GAAwB,oBAAxB;AAEAf,EAAAA,WAAW,CAACgB,WAAZ,CAAwBpB,MAAxB;AACAG,EAAAA,MAAM,CAACiB,WAAP,CAAmBhB,WAAnB;AAEA,SAAOD,MAAP;AACD","sourcesContent":["import mapboxgl from 'mapbox-gl';\n\n\nexport const getResourceObject = (sources) => {\n  const resourceObject = sources.map( i => {\n      const resource = i.properties; \n      resource.coordinates = i.geometry.coordinates; \n      resource.lngLat = i.lngLat; \n      return resource; \n    }); \n  return resourceObject; \n}\n\n// get the types from mapbox data\nexport const getCategories = (sources) => {\n  return sources.map(source => source.properties.type)\n    .filter((value, index, self) => self.indexOf(value) === index ); \n};\n\nexport function makeResourceEntry(resourceObject) {\n  var liLink = document.createElement('a');\n  var liList = document.createElement('li'); \n  var liContainer = document.createElement('div'); \n  liLink.id = resourceObject.name.toLowerCase().split(\" \").join('-'); \n  var name = resourceObject.name; \n  var website = resourceObject.website;\n  var bio = resourceObject.bio;\n  var telephone = resourceObject.telephone;\n  var coordinates = resourceObject.coordinates; \n \n  liLink.onclick = function(e) {\n    new mapboxgl.Popup()\n      .setLngLat(coordinates)\n      .setHTML('<h4>' + name + '</h4><a href=' + website + '>' + website + '</a><br><br><i>' + bio + '</i><br><br><b>Telephone: </b>' + telephone)\n      // .addTo(map);\n  }\n\n  liContainer.id = resourceObject.name; \n  liLink.innerHTML = resourceObject.name;\n  liLink.className = 'resource-entry';\n  liList.className = 'collapsed '+ liLink.id;\n  liContainer.className = 'resource-entry-box';\n  \n  liContainer.appendChild(liLink); \n  liList.appendChild(liContainer); \n\n  return liList; \n}"]},"metadata":{},"sourceType":"module"}