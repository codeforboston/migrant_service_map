{"ast":null,"code":"/*\n * Copyright 2015-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n'use strict';\n\nvar charMap;\n\ncharMap = function () {\n  var strings = {\n    alpha: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n    digit: '0123456789'\n  };\n  strings.genDelims = ':/?#[]@';\n  strings.subDelims = '!$&\\'()*+,;=';\n  strings.reserved = strings.genDelims + strings.subDelims;\n  strings.unreserved = strings.alpha + strings.digit + '-._~';\n  strings.url = strings.reserved + strings.unreserved;\n  strings.scheme = strings.alpha + strings.digit + '+-.';\n  strings.userinfo = strings.unreserved + strings.subDelims + ':';\n  strings.host = strings.unreserved + strings.subDelims;\n  strings.port = strings.digit;\n  strings.pchar = strings.unreserved + strings.subDelims + ':@';\n  strings.segment = strings.pchar;\n  strings.path = strings.segment + '/';\n  strings.query = strings.pchar + '/?';\n  strings.fragment = strings.pchar + '/?';\n  return Object.keys(strings).reduce(function (charMap, set) {\n    charMap[set] = strings[set].split('').reduce(function (chars, myChar) {\n      chars[myChar] = true;\n      return chars;\n    }, {});\n    return charMap;\n  }, {});\n}();\n\nfunction encode(str, allowed) {\n  if (typeof str !== 'string') {\n    throw new Error('String required for URL encoding');\n  }\n\n  return str.split('').map(function (myChar) {\n    if (allowed.hasOwnProperty(myChar)) {\n      return myChar;\n    }\n\n    var code = myChar.charCodeAt(0);\n\n    if (code <= 127) {\n      var encoded = code.toString(16).toUpperCase();\n      return '%' + (encoded.length % 2 === 1 ? '0' : '') + encoded;\n    } else {\n      return encodeURIComponent(myChar).toUpperCase();\n    }\n  }).join('');\n}\n\nfunction makeEncoder(allowed) {\n  allowed = allowed || charMap.unreserved;\n  return function (str) {\n    return encode(str, allowed);\n  };\n}\n\nfunction decode(str) {\n  return decodeURIComponent(str);\n}\n\nmodule.exports = {\n  /*\n   * Decode URL encoded strings\n   *\n   * @param {string} URL encoded string\n   * @returns {string} URL decoded string\n   */\n  decode: decode,\n\n  /*\n   * URL encode a string\n   *\n   * All but alpha-numerics and a very limited set of punctuation - . _ ~ are\n   * encoded.\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encode: makeEncoder(),\n\n  /*\n  * URL encode a URL\n  *\n  * All character permitted anywhere in a URL are left unencoded even\n  * if that character is not permitted in that portion of a URL.\n  *\n  * Note: This method is typically not what you want.\n  *\n  * @param {string} string to encode\n  * @returns {string} URL encoded string\n  */\n  encodeURL: makeEncoder(charMap.url),\n\n  /*\n   * URL encode the scheme portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodeScheme: makeEncoder(charMap.scheme),\n\n  /*\n   * URL encode the user info portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodeUserInfo: makeEncoder(charMap.userinfo),\n\n  /*\n   * URL encode the host portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodeHost: makeEncoder(charMap.host),\n\n  /*\n   * URL encode the port portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodePort: makeEncoder(charMap.port),\n\n  /*\n   * URL encode a path segment portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodePathSegment: makeEncoder(charMap.segment),\n\n  /*\n   * URL encode the path portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodePath: makeEncoder(charMap.path),\n\n  /*\n   * URL encode the query portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodeQuery: makeEncoder(charMap.query),\n\n  /*\n   * URL encode the fragment portion of a URL\n   *\n   * @param {string} string to encode\n   * @returns {string} URL encoded string\n   */\n  encodeFragment: makeEncoder(charMap.fragment)\n};","map":null,"metadata":{},"sourceType":"script"}