{"ast":null,"code":"'use strict'; // install ES6 Promise polyfill\n\nrequire('./promise');\n\nvar interceptor = require('rest/interceptor');\n\nvar callbackify = interceptor({\n  success: function success(response) {\n    var callback = response && response.callback;\n\n    if (typeof callback === 'function') {\n      callback(null, response.entity, response);\n    }\n\n    return response;\n  },\n  error: function error(response) {\n    var callback = response && response.callback;\n\n    if (typeof callback === 'function') {\n      var err = response.error || response.entity;\n      if (typeof err !== 'object') err = new Error(err);\n      callback(err);\n    }\n\n    return response;\n  }\n});\nmodule.exports = callbackify;","map":null,"metadata":{},"sourceType":"script"}